const countryCode=document.querySelector("#country-code"),orbitCode=document.querySelector("#orbit-code"),objectType=document.querySelector("#object-type"),exploreButton=document.querySelector(".satellites-explore"),satelliteFind=document.querySelector(".satellite-find"),astronaut=document.querySelector(".astronaut-pic"),instruction=document.querySelector(".astronaut-pic .instruction"),main=document.querySelector("main"),input=document.querySelector("input"),submitButton=document.querySelector(".submit-btn"),satName=document.querySelector(".sat-name"),satnoradCatId=document.querySelector(".sat-noradCatId"),satorbitCode=document.querySelector(".sat-orbitCode"),satobjectType=document.querySelector(".sat-objectType"),searchingSatellite=document.querySelector(".searching-satellite"),loadingSatellite=document.querySelector(".loading-satellite"),closeButton=document.querySelector(".close-btn"),loading=document.querySelector(".loading");let myArray=[],filterArray=[],getFilterArray=[],satellites=[];async function fetchingData(){getCountryCode(satellites=await (await fetch("satellites.json")).json()),getOrbitCode(satellites),getObjectType(satellites),submitButtonClick(satellites),handleFilters(satellites)}fetchingData();let countryCodeFilter=null,orbitCodeFilter=null,objectTypeFilter=null;function handleFilters(e){countryCode.addEventListener("change",()=>{countryCodeFilter=countryCode.value,applyFilterAndDisplayResults(e,currentPage)}),orbitCode.addEventListener("change",()=>{orbitCodeFilter=orbitCode.value,applyFilterAndDisplayResults(e,currentPage)}),objectType.addEventListener("change",()=>{objectTypeFilter=objectType.value,applyFilterAndDisplayResults(e,currentPage)})}const satellitesPerPage=10;let currentPage=1;function applyFilterAndDisplayResults(e,t){searchingSatellite.innerHTML="",t=1;let r=e.filter(e=>(!countryCodeFilter||e.countryCode===countryCodeFilter)&&(!orbitCodeFilter||e.orbitCode===orbitCodeFilter)&&(!objectTypeFilter||e.objectType===objectTypeFilter)),a=(t-1)*10,l=a+10,i=!1;for(let n=a;n<l&&n<r.length;n++){let o=r[n];searchingSatellite.innerHTML+=`
            <div class="searched-satellite shadow-xxl bg-gray-700  flex gap-6 p-4 mb-6 flex-wrap flex-grow justify-center items-center text-white border-2 border-gray-600 hover:border-blue-600 rounded-2xl hover:scale-[1.02] transition-all ease-in-out duration-300">
                  <div class="satellite-image animate-opacity">
                    <img
                      class="rounded-xl shadow-xxl"
                      src="${o.src}"
                      width="200"
                      alt=""
                    />
                    
                  </div>
                  <div class="satellite-details flex flex-col gap-1 animate-opacity">
                    <p class="sat-name">${o.name}</p>
                    <p class="sat-noradCatId">${o.noradCatId}</p>
                    <p class="sat-orbitCode">${o.orbitCode}</p>
                    <p class="sat-objectType">${o.objectType}</p>
                  </div>
                  
                </div>
          `,i=!0}i||(searchingSatellite.innerHTML=`<div class="error mb-6 text-white animate-opacity"><span class="text-xl">⚠ </span>Satellite does not exist.</div>`);let s=document.querySelector(".prev-page"),c=document.querySelector(".next-page");s.disabled=1===t,c.disabled=l>=r.length||0===r.length}const prevButton=document.querySelector(".prev-page"),nextButton=document.querySelector(".next-page");function updateCurrentPageNumber(){let e=document.querySelector(".current-page");e.textContent=currentPage}function prevPage(){currentPage>1&&(applyFilterAndDisplayResults(satellites,--currentPage),updateCurrentPageNumber())}function nextPage(){let e=satellites.filter(e=>(!countryCodeFilter||e.countryCode===countryCodeFilter)&&(!orbitCodeFilter||e.orbitCode===orbitCodeFilter)&&(!objectTypeFilter||e.objectType===objectTypeFilter)),t=(currentPage-1)*10,r=Math.min((currentPage+1)*10+1,e.length),a=e.slice(t,r);a.length>0&&(applyFilterAndDisplayResults(satellites,++currentPage),updateCurrentPageNumber())}function submitButtonClick(e){submitButton.addEventListener("click",()=>{getSatellite(input.value,e)})}function getSatellite(e,t){let r=!1;searchingSatellite.innerHTML="",""==e?searchingSatellite.innerHTML=`<div class="error mb-6 text-white animate-opacity"><span class="text-xl">⚠</span>Enter Satellite Data</div>`:(t.forEach(t=>{(e==t.noradCatId||e==t.name)&&(searchingSatellite.innerHTML+=`
        <div class="searched-satellite shadow-xxl bg-gray-700  flex gap-6 p-4 mb-6 flex-wrap flex-grow justify-center items-center text-white border-2 border-gray-600 hover:border-blue-600 rounded-2xl hover:scale-[1.02] transition-all ease-in-out duration-300">
              <div class="satellite-image animate-opacity">
                <img
                  class="rounded-xl shadow-xxl"
                  src="assets/images/advanced-satellite.jpg"
                  width="200"
                  alt=""
                />
                
              </div>
              <div class="satellite-details flex flex-col gap-1 animate-opacity">
                <p class="sat-name">${t.name}</p>
                <p class="sat-noradCatId">${t.noradCatId}</p>
                <p class="sat-orbitCode">${t.orbitCode}</p>
                <p class="sat-objectType">${t.objectType}</p>
              </div>
              
            </div>
      `,r=!0)}),r||(searchingSatellite.innerHTML=`<div class="error mb-6 text-white animate-opacity"><span class="text-xl">⚠ </span>Satellite does not exist.</div>`))}function applyFilters(){return countryCode.addEventListener("change",e=>{selectedFilter=e.target.value,filterArray.push(selectedFilter)}),orbitCode.addEventListener("change",e=>{selectedFilter=e.target.value,filterArray.push(selectedFilter)}),objectType.addEventListener("change",e=>{selectedFilter=e.target.value,filterArray.push(selectedFilter)}),filterArray}function exploreClick(){exploreButton.addEventListener("click",()=>{satelliteFind.classList.toggle("hidden"),astronaut.classList.toggle("hidden"),exploreButton.classList.toggle("hidden")}),closeButton.addEventListener("click",()=>{satelliteFind.classList.toggle("hidden"),astronaut.classList.toggle("hidden"),exploreButton.classList.toggle("hidden")}),timeOutInstruction()}function getCountryCode(e){e.forEach(e=>{myArray.push(e.countryCode)}),myArray.filter((e,t,r)=>r.indexOf(e)===t).forEach(e=>{countryCode.innerHTML+=`<option value="${e}">${e}</option>`}),myArray=[]}function getOrbitCode(e){e.forEach(e=>{myArray.push(e.orbitCode)}),myArray.filter((e,t,r)=>r.indexOf(e)===t).forEach(e=>{orbitCode.innerHTML+=`<option value="${e}">${e}</option>`}),myArray=[]}function getObjectType(e){e.forEach(e=>{myArray.push(e.objectType)}),myArray.filter((e,t,r)=>r.indexOf(e)===t).forEach(e=>{objectType.innerHTML+=`<option value="${e}">${e}</option>`})}function timeOutInstruction(){setTimeout(()=>{instruction.classList.toggle("hidden")},1e3)}prevButton.addEventListener("click",prevPage),nextButton.addEventListener("click",nextPage),exploreClick();